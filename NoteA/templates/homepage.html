{% extends "base.html" %}

{% block styles %}
<link href="static/css/mainpage.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="grid-container">
  <div class="header">
  </div>
  <div class="headermenu">
    <button class="addtask" role="button">Account Settings</button>
  </div>
  <div class="menu">
      <table class="tasks">
        {% for task in tasks %}
        <tr>
          <td>
            {{ task.taskname }}
          </td>
          <td>
            {{ task.duedate }}
          </td>
          <td>
            <a href="/delete_task/{{task.id}}">Delete</a>
          </td>
        </tr>
        {% endfor %}
      </table>
  </div>
  <div class="todoform">
    <form action="/addtask" method="POST">
      <input type="text" name="taskname" placeholder="To-Do Task Name" class="" required="required">
      <br>
      <input type="datetime" name="duedate" placeholder="Due date DD/MM/YYYY" required="required">
      <br>
      <button type="submit" class="addtask" id="addtask">Add To-Do Task</button>
    </form>
  </div>
  <div class="buttonmenu">
    <button class="addtask" role="button">New Note +</button>
  </div>
  <div class="space"></div>
  <div class="main">Notes</div>

</div>
{% endblock %}
{% block scripts %}
{{super ()}}
<script>

  function add_data(data) {
    $("#addtask").click(function () {//when the form button is pressed, code below is executed
      console.log('addtask 1')
      $.getJSON(update_data)//calls the update data function
      console.log('addtask 2')
    });
  }
</script>
{% endblock %}